<% content_for(:head) do %>
  <title><%= @course.name %> | <%= t(".title") %> </title>
<% end %>
<div id="schoolrouter-innerpage-data">
  <section class="bg-gray-50">
    <div class="max-w-5xl mx-auto p-6">
      <div class="mt-4">
        <%= link_to t('shared.back_link'), calendar_events_school_course_path(@course), class: 'bg-gray-200 px-3 py-1 text-gray-600 rounded-xl text-sm hover:text-primary-500 hover:bg-primary-50 focus:outline-none focus:text-primary-500 focus:bg-primary-50 focus:ring-1 focus:ring-focusColor-500' %>
      </div>
      <h1 class="text-xl md:text-3xl font-bold mt-4">
         <%= @event.persisted? ? t(".edit_event") : t(".new_event") %>
      </h1>
      <p class="text-sm font-medium text-gray-500"><%= @course.name %></p>
    </div>
  </section>
  <section class="bg-white" >
    <%= form_with  model: @event, url: school_course_calendar_events_path(@course), class: "max-w-5xl mx-auto p-6" do |f|  %>
      <label for="email" class="text-sm font-medium">
        <%= t(".title_label") %>
      </label>
      <%= f.text_field :title, placeholder: "Name of the event", required: true, class: "mt-1 text-sm block w-full border border-gray-300 py-3 px-4 rounded-md focus:outline-none focus:ring-1 focus:ring-focusColor-500"  %>
      <div class="flex mt-5 space-x-3">
        <div class="flex-1">
          <label class="text-sm font-medium">
            <%= t(".select_calendar_label") %>
          </label>
          <%= f.select :calendar_id, options_from_collection_for_select(@course.calendars, 'id', 'name'), {  include_blank: false }, { class: "select mt-1 block w-full rounded-md bg-white border border-gray-300 py-3 px-4 pr-10 text-base focus:outline-none focus:ring-1 focus:ring-focusColor-500 sm:text-sm" }  %>
        </div>
        <div>
          <label for="event-color" class="block">
            <span class="text-sm font-medium space-x-1"><span><%= t(".select_color_label") %></span><i class="if i-question-circle-regular" aria-hidden="true" title="Colors help you to differntiate different types of events at glance"></i></span>
          </label>
          <div class="mt-1">
            <%= f.select :color, CalendarEvent.colors , {  include_blank: false }, { class: "select items-center bg-white border border-gray-300 text-sm w-full outline-none py-3 px-4 pr-10 rounded-md focus:outline-none focus:ring-1 focus:ring-focusColor-500" }  %>
          </div>
        </div>
      </div>
      <div>
        <label class="mt-5 block">
          <span class="text-sm font-medium"><%= t(".select_time_label") %></span>
        </label>
        <div class="mt-1 flex">
          <%= f.datetime_field :start_time, default: Time.current, required: true, class: "mt-2 text-sm block w-full border border-gray-400 outline-none py-3 px-4 rounded-md focus:outline-none focus:ring-1 focus:ring-focusColor-500" %>
        </div>
      </div>
      <div class="pt-8 mt-8 border-t border-gray-200">
        <label class="flex gap-3">
          <div>
            <p class="text-sm font-semibold"><%= t(".add_link_section_title") %></p>
            <p class="text-sm text-gray-500"><%= t(".add_link_section_subtitle") %> </p>
          </div>
        </label>
        <div class="flex gap-5 items-center mt-5">
          <label class="block flex-1">
            <span class="text-sm font-medium"><%= t(".event_link_title_label") %></span>
            <%= f.text_field :link_title, placeholder: "eg. Zooom meeting link", class: "mt-2 text-sm block w-full border border-gray-400 outline-none py-3 px-4 rounded-md focus:outline-none focus:ring-1 focus:ring-focusColor-500"  %>
          </label>
          <label class="block flex-1">
            <span class="text-sm font-medium"><%= t(".event_link_url_label") %></span>
            <%= f.url_field :link_url, placeholder: "https://www.example.com", class: "mt-2 text-sm block w-full border border-gray-400 outline-none py-3 px-4 rounded-md focus:outline-none focus:ring-1 focus:ring-focusColor-500"  %>
          </label>
        </div>
      </div>
      <div class="pt-8 mt-8 border-t border-gray-200">
        <label class="block flex-1">
          <span class="text-sm font-medium"><%= t(".description_label") %> <span class="font-light">(<%= t("shared.optional") %>)</span></span>
          <div data-re-component="SimpleMarkdownEditor" data-re-json="<%= { textareaId: "calendar_event_description", value: "", textAreaName: "calendar_event[description]", profile: "TextArea" }.to_json %>"></div>
        </label>
      </div>
      <button type="submit" class="btn btn-primary w-full mt-5"><%= t(".add_event_button") %></button>
    <% end %>
  </section>
</div>
