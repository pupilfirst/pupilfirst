<% content_for(:head) do %>
  <title><%= @course.name %> | <%= t(".title") %> </title>
<% end %>
<div id="schoolrouter-innerpage-data">
  <section class="bg-gray-50">
    <div class="max-w-5xl mx-auto p-6">
      <div class="mt-4">
        <%= link_to t('shared.back_link'), calendar_events_school_course_path(@course), class: 'bg-gray-200 px-3 py-1 text-gray-600 rounded-xl text-sm hover:text-primary-500 hover:bg-primary-50 focus:outline-none focus:text-primary-500 focus:bg-primary-50 focus:ring-1 focus:ring-focusColor-500' %>
      </div>
      <h1 class="text-xl md:text-3xl font-bold mt-4">
        <%= @event.persisted? ? t(".edit_event") : t(".new_event") %>
      </h1>
      <p class="text-sm font-medium text-gray-500"><%= @course.name %></p>
    </div>
  </section>
  <section class="bg-white" >
    <%= form_with  model: @event, url: school_course_calendar_event_path(@course, @event), method: "patch", class: "max-w-5xl mx-auto p-6" do |f|  %>
      <label for="email" class="text-sm font-medium">
        Event Title
      </label>
      <%= f.text_field :title, placeholder: "Name of the event", required: true, class: "mt-1 text-sm block w-full border border-gray-300 py-3 px-4 rounded-md focus:outline-none focus:ring-1 focus:ring-focusColor-500"  %>
      <div class="flex mt-5 space-x-3">
        <div class="flex-1">
          <label class="text-sm font-medium">
            Add event to
          </label>
          <%= f.select :calendar_id, options_from_collection_for_select(@course.calendars, 'id', 'name'), {  include_blank: false }, { class: "select mt-1 block w-full rounded-md bg-white border border-gray-300 py-3 px-4 pr-10 text-base focus:outline-none focus:ring-1 focus:ring-focusColor-500 sm:text-sm" }  %>
        </div>
        <div>
          <label for="event-color" class="block">
            <span class="text-sm font-medium space-x-1"><span>Color</span><i class="if i-question-circle-regular" aria-hidden="true" title="Colors help you to differntiate different types of events at glance"></i></span>
          </label>
          <div class="mt-1">
            <%= f.select :color, CalendarEvent.colors , {  include_blank: false }, { class: "select items-center bg-white border border-gray-300 text-sm w-full outline-none py-3 px-4 pr-10 rounded-md focus:outline-none focus:ring-1 focus:ring-focusColor-500" }  %>
          </div>
        </div>
      </div>
      <div>
        <label class="mt-5 block">
          <span class="text-sm font-medium">Date and Time</span>
        </label>
        <div class="mt-1 flex">
          <%= f.datetime_field :start_time, default: Time.current, required: true, class: "mt-2 text-sm block w-full border border-gray-400 outline-none py-3 px-4 rounded-md focus:outline-none focus:ring-1 focus:ring-focusColor-500" %>
        </div>
      </div>
      <div class="pt-8 mt-8 border-t border-gray-200">
        <label class="flex gap-3">
          <div>
            <p class="text-sm font-semibold">Add an event link (optional)</p>
            <p class="text-sm text-gray-500">Add a link to your event. The link can be GMeet, zoom or any other link </p>
          </div>
        </label>
        <div class="flex gap-5 items-center mt-5">
          <label class="block flex-1">
            <span class="text-sm font-medium">Event link title</span>
            <%= f.text_field :link_title, placeholder: "eg. Zooom meeting link", class: "mt-2 text-sm block w-full border border-gray-400 outline-none py-3 px-4 rounded-md focus:outline-none focus:ring-1 focus:ring-focusColor-500"  %>
          </label>
          <label class="block flex-1">
            <span class="text-sm font-medium">Event link URL</span>
            <%= f.url_field :link_url, placeholder: "https://www.example.com", class: "mt-2 text-sm block w-full border border-gray-400 outline-none py-3 px-4 rounded-md focus:outline-none focus:ring-1 focus:ring-focusColor-500"  %>
          </label>
        </div>
      </div>
      <div class="pt-8 mt-8 border-t border-gray-200">
        <label class="block flex-1">
          <span class="text-sm font-medium">Description <span class="font-light">(optional)</span></span>
          <%= f.text_area(:description, class: "p-2 w-full text-left border border-gray-300", placeholder: "An optional description of the event") %>
        </label>
      </div>
      <button type="submit" class="btn btn-primary w-full mt-5"><%= @event.persisted? ? "Update Event" : "Create Event"%></button>
    <% end %>
  </section>
</div>
